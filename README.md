# Задание 14 - Разделяемаая память и семафоры
## Сборщик проекта
В качестве сборщика проекта используется Makefile. Для компиляции проекта необходимо ввести следующую команду в корне проекта:
- System V
``` bash
make sysv
```
- POSIX
``` bash
make posix
```
Для очистки бинарных файлов можно воспользоваться командой:
``` bash
make clean
```

## Задание
1) Реализовать 2 программы, первая сервер, вторая клиент. Сервер создает сегмент разделяемой памяти (достаточный для хранения сообщений) и записывает сообщение виде строки “Hi!”, ждет ответа от клиента и выводит на экран, удаляет сегмент разделяемой памяти. Клиент подключается к сегменту разделяемой памяти и считывает сообщение от сервера, выводит на экран, отвечает серверу сообщением виде строки “Hello!”. Сделать это как для POSIX, так и для SYSTEM V стандартов.
2) Написать 2 программы, первая сервер, вторая клиент. Сервер создает сегмент разделяемой памяти для реализации чата с общей комнатой и его задача уведомлять клиентов о появлении новых участников, о новых сообщениях. Клиент подключается к сегменту разделяемой памяти, созданному сервером, сообщает ему свое имя и получает в ответ все сообщения в комнате. Далее может отправлять сообщения в общий чат. Получение служебных сообщений от сервера (имена новых клиентов, сообщения от других пользователей) и отправка сообщений в чат лучше реализовать в разных потоках. Интерфейс клиента реализуем с помощью библиотеки ncurses.

## Особенности реализации
### Клиент
В клиентском приложении на этапе отрисовки интерфейса было принято решения максимально использовать модульность. В результате анализа пользовательского интерфейса были выявлены основные блоки из которых он состоит:
- Список (listbox, элемент содержащий в себе список строк, выводимых на экран)
- Поле ввода (input_field, элемент предназначеный для считывания ввода пользователя в строку)
Во время разработки программного интерфейса были реализован модули listbox, input_field и обертки над ними, которые добавляют к ним логику чата: chat_window, users_window.
По завершению разработки, в была написана документация, описывающая структуры, а методы для работы с ними.

### Сервер
На этапе разработки сервера было принято решения о создании новой структуры room, которая будет описывать комнату чата, хранить в себе пользователей и сообщения. Для пользователей и сообщений были добавлены идентификаторы. Разделяться будет именно структура room. 

Также на этапе кодирования сервера было решено вынести конфигурацию в отдельный заголовочный файл, без её дублирования в других файлов. 


## Демонстрация работы программ
### Задание №1
- System V (make sysv)
![sysv](https://github.com/user-attachments/assets/b4d6669f-5d17-4c6f-9e67-954a95ab3aad)

- POSIX (make posix)
![posix](https://github.com/user-attachments/assets/e0eb91c4-bd3f-4d78-8d98-c461f1fe2e65)

### Задание №2
![task2](https://github.com/user-attachments/assets/f1007162-c451-4b2d-8035-20180139c6aa)


